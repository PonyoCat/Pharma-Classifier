# 00_frontend.conf
# Exact match på /, så den altid serverer index.html (vinder over proxy)
location = / {
    root /var/app/current/frontend/dist;
    try_files /index.html =404;
    index index.html;
    expires -1;
}

# Statik fra Vite/React build
location ^~ /assets/ {
    alias /var/app/current/frontend/dist/assets/;
    try_files $uri =404;
    expires 1h;
}

location = /favicon.ico { alias /var/app/current/frontend/dist/favicon.ico; expires 1h; }

# SPA fallback for andre ruter (API-ruter håndteres separat)
location / {
    root /var/app/current/frontend/dist;
    try_files $uri $uri/ /index.html;
}
